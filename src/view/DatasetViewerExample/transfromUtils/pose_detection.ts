const example_json = {
  model_type: 'pose_detection',
  url: 'https://s3.local.cdn.desauto.net/temp/inference/images/609dd9b7-8d37-4897-b982-3b42969c1f6f.jpg',
  result: [
    [
      69.43899550360122,
      147.54532749558385,
      115.43384240779565,
      236.35213963079565,
      0.8781849682435023,
      0,
      88.809403728494,
      157.38663786774748,
      89.52348597955593,
      155.4264401166867,
      89.71344678829878,
      155.7059032377941,
      93.46863566578685,
      156.0967274201222,
      94.7560260123584,
      156.45101907369974,
      97.57005544809195,
      164.5904212009101,
      99.75357109016471,
      164.93659848655577,
      91.76012630507107,
      176.85183882991194,
      95.71751307774257,
      177.95691803618743,
      80.15845087580469,
      182.84347142928686,
      86.37681512010126,
      183.3572264984771,
      101.51901209548915,
      191.93974937314476,
      100.3223275137948,
      191.1354260566907,
      104.6163414019249,
      210.53098167294945,
      92.88892305814302,
      208.51830862618826,
      111.34358137081831,
      228.7682202034619,
      85.10917450164581,
      224.02244692360048,
      0.594333291053772,
      0.6146590709686279,
      0.25108349323272705,
      0.8261809349060059,
      0.23841071128845215,
      0.9614156484603882,
      0.9461665153503418,
      0.9160571098327637,
      0.7957140207290649,
      0.8554900884628296,
      0.7209429740905762,
      0.9667952656745911,
      0.9609118700027466,
      0.9386602640151978,
      0.9198705554008484,
      0.8866119384765625,
      0.8642425537109375
    ],
    [
      156.67586213225252,
      158.3977047935788,
      188.78714465872667,
      239.675694178868,
      0.8583785480552208,
      0,
      172.0584517258864,
      167.68082767655523,
      171.42542378885761,
      165.923048255049,
      172.65609100982024,
      166.0088627599614,
      168.79929976029828,
      166.65887010125292,
      176.28775323187554,
      166.577345130049,
      165.22684501879144,
      176.25708306585992,
      180.41734690988537,
      175.9032918578817,
      162.75172449214196,
      188.18060459234775,
      184.7845569246021,
      187.1820726372423,
      160.5155190776834,
      197.03977856046947,
      185.65589228987972,
      195.80193828591655,
      168.54852885355206,
      198.78285441365276,
      178.1376861358856,
      198.83239852798567,
      169.44837770261964,
      214.34845219681034,
      177.16672635022854,
      214.801117156769,
      170.41601309965262,
      230.68862061400515,
      176.18306477864584,
      231.5265810239565,
      0.38090503215789795,
      0.2757883071899414,
      0.2347143292427063,
      0.6643221378326416,
      0.5788044929504395,
      0.9651380181312561,
      0.960553765296936,
      0.8097707033157349,
      0.7823255658149719,
      0.6514076590538025,
      0.6195337176322937,
      0.9537059664726257,
      0.9516919851303101,
      0.8929986357688904,
      0.8896195292472839,
      0.8280497789382935,
      0.8248105049133301
    ],
    [
      308.70904277810405,
      165.41927826710236,
      341.52202152705695,
      247.41796889227308,
      0.8527615715412296,
      0,
      317.586828556372,
      173.61532607000746,
      318.63762133049244,
      171.80402280011654,
      316.97881098393793,
      172.14083460383205,
      323.0888466290383,
      171.86800834460135,
      317.33641511076814,
      172.84672503704792,
      330.5393377272955,
      180.08565871587723,
      317.79265468215056,
      180.87968715143091,
      335.42337697702686,
      191.86732774569992,
      315.26857389436736,
      193.14033028129097,
      338.6592582222465,
      202.86825397909382,
      314.7191561185397,
      204.2970261651597,
      327.43223781630155,
      204.52603960370683,
      319.9641119683539,
      204.4578121869992,
      322.0530195614119,
      221.27373755394996,
      323.8808613668233,
      220.53920256785858,
      317.44732338787514,
      239.85533031828197,
      330.39461362611996,
      237.054288637388,
      0.8181672096252441,
      0.7906371355056763,
      0.6110115647315979,
      0.7461223006248474,
      0.3872911334037781,
      0.9672598838806152,
      0.9463463425636292,
      0.8905590176582336,
      0.7603567838668823,
      0.8308011293411255,
      0.7016055583953857,
      0.9660989046096802,
      0.9575501084327698,
      0.9369824528694153,
      0.9206379652023315,
      0.8957998156547546,
      0.879014253616333
    ],
    [
      360.0338617071405,
      166.57106572931463,
      384.58190989105293,
      254.78602945109904,
      0.7996136992881162,
      0,
      368.5999652000018,
      174.530426594483,
      369.0874945367133,
      172.83603694889095,
      369.8396881032379,
      172.79080619900932,
      370.56388054694327,
      174.36137130488328,
      374.1857483336976,
      173.97033264586975,
      374.8479331845726,
      184.9737968533745,
      374.3811604248616,
      183.41328832097264,
      375.2131393183639,
      200.92149676698628,
      371.01230363467914,
      198.49690933049698,
      373.16491080330803,
      214.33799050071022,
      367.21246786050864,
      211.88430572723175,
      373.2021820850861,
      212.10035524168214,
      371.35196321216216,
      211.0792317423787,
      373.9639556102264,
      228.79786564753604,
      367.28064761573063,
      227.91345911981898,
      375.6333468065951,
      246.00471051978622,
      369.01409584881264,
      243.95977064724013,
      0.48454755544662476,
      0.44322383403778076,
      0.2845214605331421,
      0.5622272491455078,
      0.25613725185394287,
      0.8857328295707703,
      0.8678856492042542,
      0.7423527240753174,
      0.618951141834259,
      0.6405993103981018,
      0.5283364653587341,
      0.8805549740791321,
      0.8697780966758728,
      0.8024225234985352,
      0.7764731049537659,
      0.7163752317428589,
      0.6940581202507019
    ],
    [
      447.3931230309404,
      160.2253440376762,
      466.64683806590546,
      217.30253490812572,
      0.67347403053191,
      0,
      453.9765087207714,
      165.83914020956257,
      454.19556090881775,
      164.76763851992735,
      455.1480756995283,
      164.79913084657042,
      454.34226296164775,
      165.43142003057164,
      459.905788181545,
      165.63491074355332,
      453.49608094542174,
      171.8244695774603,
      462.86184884451484,
      172.1823596732044,
      451.7302229020979,
      179.8404880336948,
      464.3303468788698,
      180.23112157008032,
      450.07107892514387,
      186.2369096306932,
      463.78133422567015,
      185.81237686263933,
      454.368762747669,
      188.50606104710718,
      461.22076857062206,
      188.7092062143179,
      452.2240912164008,
      200.3857101760544,
      460.1949027534965,
      200.7521316777298,
      451.96538467229385,
      211.88718924711355,
      459.9857164929797,
      212.01342069185696,
      0.20039784908294678,
      0.19184619188308716,
      0.11078149080276489,
      0.5907540917396545,
      0.3091999292373657,
      0.9255853891372681,
      0.9135259985923767,
      0.7308440804481506,
      0.61710524559021,
      0.5283229947090149,
      0.42149484157562256,
      0.8986369371414185,
      0.8916519284248352,
      0.7696111798286438,
      0.7488686442375183,
      0.6596404314041138,
      0.6416041254997253
    ]
  ]
}

export const pose_detection = () => {
  try {
    const { url, result } = example_json
    // model_type === pose_detection，明显是画线条的，所以可以直接确定type 为 polyline。
    // 但是polyline也是很讲究的，它不是一笔画，而是多个线段。所以需要明确每个线段坐标、颜色
    let data:any[] = [];

    for (const o of result) {
      let formatData: any[] = []
      // 算法大佬说只需要17个点~
      const points_coordinate = o.slice(6, 40)
      console.log(points_coordinate)
      const [
        nose_x,
        nose_y,

        left_eye_x,
        left_eye_y,

        right_eye_x,
        right_eye_y,

        left_ear_x,
        left_ear_y,

        right_ear_x,
        right_ear_y,

        left_shoulder_x,
        left_shoulder_y,

        right_shoulder_x,
        right_shoulder_y,

        left_elbow_x,
        left_elbow_y,

        right_elbow_x,
        right_elbow_y,

        left_wrist_x,
        left_wrist_y,

        right_wrist_x,
        right_wrist_y,

        left_hip_x,
        left_hip_y,

        right_hip_x,
        right_hip_y,

        left_knee_x,
        left_knee_y,

        right_knee_x,
        right_knee_y,

        left_ankle_x,
        left_ankle_y,

        right_ankle_x,
        right_ankle_y
      ] = points_coordinate

      formatData = [

        {
          type: 'polyline',

          points: [
            {
              x: nose_x, y: nose_y,
            },
            {
              x: left_eye_x, y: left_eye_y,
            },
          ],
          label: 'header',
        },

        {
          type: 'polyline',
          points: [
            {
              x: nose_x, y: nose_y,
            },
            {
              x: right_eye_x, y: right_eye_y,
            },
          ],
          label: 'header',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_eye_x, y: left_eye_y,
            },
            {
              x: right_eye_x, y: right_eye_y,
            },
          ],
          label: 'header',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_ankle_x, y: left_ankle_y,
            },
            {
              x: left_knee_x, y: left_knee_y,
            },
          ],
          label: 'lower_body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_knee_x, y: left_knee_y,
            },
            {
              x: left_hip_x, y: left_hip_y,
            },
          ],
          label: 'lower_body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_ankle_x, y: right_ankle_y,
            },
            {
              x: right_knee_x, y: right_knee_y,
            },
          ],
          label: 'lower_body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_knee_x, y: right_knee_y,
            },
            {
              x: right_hip_x, y: right_hip_y,
            },
          ],
          label: 'lower_body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_hip_x, y: left_hip_y,
            },
            {
              x: right_hip_x, y: right_hip_y,
            },
          ],
          label: 'lower_body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_shoulder_x, y: left_shoulder_y,
            },
            {
              x: left_hip_x, y: left_hip_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_shoulder_x, y: right_shoulder_y,
            },
            {
              x: right_hip_x, y: right_hip_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_shoulder_x, y: left_shoulder_y,
            },
            {
              x: right_shoulder_x, y: right_shoulder_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_shoulder_x, y: left_shoulder_y,
            },
            {
              x: left_elbow_x, y: left_elbow_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_shoulder_x, y: right_shoulder_y,
            },
            {
              x: right_elbow_x, y: right_elbow_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_elbow_x, y: left_elbow_y,
            },
            {
              x: left_wrist_x, y: left_wrist_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_elbow_x, y: right_elbow_y,
            },
            {
              x: right_wrist_x, y: right_wrist_y,
            },
          ],
          label: 'body',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_eye_x, y: left_eye_y,
            },
            {
              x: left_ear_x, y: left_ear_y,
            },
          ],
          label: 'header',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_eye_x, y: right_eye_y,
            },
            {
              x: right_ear_x, y: right_ear_y,
            },
          ],
          label: 'header',
        },

        {
          type: 'polyline',
          points: [
            {
              x: left_ear_x, y: left_ear_y,
            },
            {
              x: left_shoulder_x, y: left_shoulder_y,
            },
          ],
          label: 'header',
        },

        {
          type: 'polyline',
          points: [
            {
              x: right_ear_x, y: right_ear_y,
            },
            {
              x: right_shoulder_x, y: right_shoulder_y,
            },
          ],
          label: 'header',
        },
      ]

      data = data.concat(formatData)
    }

    return {
      url, data
    }
  } catch (e) {
    console.log(e)
  }
}
